# BMAD-Lite PRD Template
# 100% BMAD-compliant structure with simplified elicitation
template:
  id: prd-template-v2
  name: Product Requirements Document
  version: 2.0
  output:
    format: markdown
    filename: docs/prd.md
    title: "{{project_name}} Product Requirements Document (PRD)"

workflow:
  mode: interactive
  approach: pre-populate-and-validate  # BMAD-Lite: less strict
  elicitation: advanced-elicitation

# ============================================================================
# SECTIONS - 100% BMAD COMPLIANT STRUCTURE
# Section titles MUST match exactly for proper sharding
# ============================================================================
sections:
  # --------------------------------------------------------------------------
  # Section 1: Goals and Background Context
  # OUTPUT H2: ## Goals and Background Context
  # --------------------------------------------------------------------------
  - id: goals-context
    title: Goals and Background Context
    required: true
    instruction: |
      BMAD-LITE APPROACH:
      1. Check if Project Brief exists - use for context
      2. PRE-POPULATE goals and background based on user's initial description
      3. Present complete section for validation
      4. Accept refinements

      OUTPUT FORMAT (EXACT - for proper sharding):
      ## Goals and Background Context

      ### Goals
      - [Goal 1: One-line desired outcome]
      - [Goal 2: One-line desired outcome]

      ### Background Context
      [1-2 paragraphs: what problem this solves, why it matters]

      ### Change Log
      | Date | Version | Description | Author |
      |------|---------|-------------|--------|
      | {today} | 1.0 | Initial draft | @planner |

    subsections:
      - id: goals
        title: Goals
        type: bullet-list
        instruction: Bullet list of 1 line desired outcomes
      - id: background
        title: Background Context
        type: paragraphs
        instruction: 1-2 short paragraphs summarizing background
      - id: changelog
        title: Change Log
        type: table
        columns: [Date, Version, Description, Author]

  # --------------------------------------------------------------------------
  # Section 2: Requirements
  # OUTPUT H2: ## Requirements
  # --------------------------------------------------------------------------
  - id: requirements
    title: Requirements
    required: true
    elicit: true
    instruction: |
      BMAD-LITE APPROACH:
      1. PRE-POPULATE functional and non-functional requirements
      2. Present complete lists for validation
      3. Focus questions on unclear requirements only

      OUTPUT FORMAT (EXACT):
      ## Requirements

      ### Functional
      - FR1: [Requirement statement]
      - FR2: [Requirement statement]

      ### Non Functional
      - NFR1: [Requirement statement]
      - NFR2: [Requirement statement]

    subsections:
      - id: functional
        title: Functional
        type: numbered-list
        prefix: FR
        instruction: "Core functionalities - FR[n]: [requirement statement]"

      - id: non-functional
        title: Non Functional
        type: numbered-list
        prefix: NFR
        instruction: "Performance, security, scalability - NFR[n]: [requirement statement]"

  # --------------------------------------------------------------------------
  # Section 3: User Interface Design Goals
  # OUTPUT H2: ## User Interface Design Goals
  # --------------------------------------------------------------------------
  - id: ui-goals
    title: User Interface Design Goals
    required: false
    condition: "PRD has UX/UI requirements"
    elicit: true
    instruction: |
      BMAD-LITE APPROACH:
      1. PRE-POPULATE all UI goals based on project context
      2. Present complete section for validation
      3. Mark assumptions clearly

      OUTPUT FORMAT (EXACT):
      ## User Interface Design Goals

      ### Overall UX Vision
      [2-3 sentences describing the intended user experience]

      ### Key Interaction Paradigms
      [How users will primarily interact with the system]

      ### Core Screens and Views
      - [Screen 1]: [Purpose]
      - [Screen 2]: [Purpose]

      ### Accessibility
      {None | WCAG AA | WCAG AAA}

      ### Branding
      [Known branding requirements or "TBD"]

      ### Target Device and Platforms
      {Web Responsive | Mobile Only | Desktop Only | Cross-Platform}

    choices:
      accessibility: [None, WCAG AA, WCAG AAA]
      platforms: [Web Responsive, Mobile Only, Desktop Only, Cross-Platform]

    subsections:
      - id: ux-vision
        title: Overall UX Vision
      - id: interaction-paradigms
        title: Key Interaction Paradigms
      - id: core-screens
        title: Core Screens and Views
      - id: accessibility
        title: Accessibility
      - id: branding
        title: Branding
      - id: target-platforms
        title: Target Device and Platforms

  # --------------------------------------------------------------------------
  # Section 4: Technical Assumptions
  # OUTPUT H2: ## Technical Assumptions
  # --------------------------------------------------------------------------
  - id: technical-assumptions
    title: Technical Assumptions
    required: true
    elicit: true
    instruction: |
      BMAD-LITE APPROACH:
      1. Check for tech-preferences.md - use to pre-populate
      2. PRE-POPULATE technical decisions with rationale
      3. FOCUS elicitation on critical choices
      4. Document ALL choices with rationale

      OUTPUT FORMAT (EXACT):
      ## Technical Assumptions

      ### Repository Structure
      {Monorepo | Polyrepo | Multi-repo}
      Rationale: [Why this choice]

      ### Service Architecture
      {Monolith | Microservices | Serverless}
      Rationale: [Why this choice]

      ### Testing Requirements
      {Unit Only | Unit + Integration | Full Testing Pyramid}
      Rationale: [Why this choice]

      ### Additional Technical Assumptions and Requests
      - [Assumption 1 with rationale]
      - [Assumption 2 with rationale]

    choices:
      repository: [Monorepo, Polyrepo, Multi-repo]
      architecture: [Monolith, Microservices, Serverless]
      testing: [Unit Only, Unit + Integration, Full Testing Pyramid]

    subsections:
      - id: repository-structure
        title: Repository Structure
      - id: service-architecture
        title: Service Architecture
      - id: testing-requirements
        title: Testing Requirements
      - id: additional-assumptions
        title: Additional Technical Assumptions and Requests

  # --------------------------------------------------------------------------
  # Section 5: Epic List
  # OUTPUT H2: ## Epic List
  # --------------------------------------------------------------------------
  - id: epic-list
    title: Epic List
    required: true
    elicit: true
    instruction: |
      BMAD-LITE APPROACH:
      1. PRE-POPULATE epic list based on requirements
      2. Present for approval BEFORE epic details
      3. Epics must be logically sequential

      CRITICAL RULES:
      - Epic 1: Foundation + initial functionality
      - Each epic delivers deployable, testable value
      - Minimize epic count
      - Cross-cutting concerns flow THROUGH epics

      OUTPUT FORMAT (EXACT):
      ## Epic List

      **Epic 1: {Title}**
      {One sentence goal statement}

      **Epic 2: {Title}**
      {One sentence goal statement}

      [Await user approval before proceeding to Epic Details]

  # --------------------------------------------------------------------------
  # Section 6: Epic Details (Multiple H2s - Epic 1, Epic 2, etc.)
  # OUTPUT H2: ## Epic 1: {Title}, ## Epic 2: {Title}, etc.
  # --------------------------------------------------------------------------
  - id: epic-details
    title: "Epic {{epic_number}}: {{epic_title}}"
    required: true
    repeatable: true
    elicit: true
    instruction: |
      BMAD-LITE APPROACH:
      1. After Epic List approved, detail each epic
      2. PRE-POPULATE stories and AC
      3. Present complete epic for validation

      STORY RULES:
      - Stories MUST be sequential within epic
      - Each story = vertical slice
      - Size for AI agent: 2-4 hours
      - No story depends on later stories

      OUTPUT FORMAT (EXACT - each epic is separate H2):
      ## Epic 1: {Title}

      **Goal:** {2-3 sentences describing objective and value}

      ### Story 1.1: {Title}
      **As a** {user type},
      **I want** {action},
      **so that** {benefit}.

      **Acceptance Criteria:**
      1. Given {context}, When {action}, Then {expected}
      2. Given {context}, When {action}, Then {expected}

      ### Story 1.2: {Title}
      [Same format...]

      ---

      ## Epic 2: {Title}
      [Same structure...]

    story_template: |
      As a {{user_type}},
      I want {{action}},
      so that {{benefit}}.

    subsections:
      - id: story
        title: "Story {{epic_number}}.{{story_number}}: {{story_title}}"
        repeatable: true
        subsections:
          - id: acceptance-criteria
            title: Acceptance Criteria
            type: numbered-list

  # --------------------------------------------------------------------------
  # Section 7: Checklist Results Report
  # OUTPUT H2: ## Checklist Results Report
  # --------------------------------------------------------------------------
  - id: checklist-results
    title: Checklist Results Report
    required: false
    instruction: |
      BMAD-LITE APPROACH:
      Optional - run planning-checklist if needed.

      OUTPUT FORMAT (EXACT):
      ## Checklist Results Report

      [Results from planning-checklist.md execution]
      [Or "Skipped - simple project"]

  # --------------------------------------------------------------------------
  # Section 8: Next Steps
  # OUTPUT H2: ## Next Steps
  # --------------------------------------------------------------------------
  - id: next-steps
    title: Next Steps
    required: true
    instruction: |
      OUTPUT FORMAT (EXACT):
      ## Next Steps

      ### UX Expert Prompt
      [If project has UI: prompt for UX work]

      ### Architect Prompt
      Run `@planner create-architecture` with this PRD to create the technical architecture.
